# Window Rules
windowrulev2 = float, class:^(pavucontrol)$
windowrulev2 = float, class:^(waypaper)$
windowrulev2 = center, class:^(pavucontrol)$

# Float all KDialog-based file choosers
windowrulev2 = float,class:^(kdialog)$
windowrulev2 = center,class:^(kdialog)$

# Float KDE XDG portal dialogs (used by GTK apps sometimes)
windowrulev2 = float,class:^(xdg-desktop-portal-kde)$
windowrulev2 = center,class:^(xdg-desktop-portal-kde)$

# Float Wallpaper Picker
windowrulev2 = float, title:^(Wallpaper Picker)$

# Above is not necessary since the implementation is from Freedesktop.
# Float KDE Dialog Freedesktop impl - This one is what I was searching for a while.
windowrulev2 = float,class:^(org.freedesktop.impl.portal.desktop.kde)$
windowrulev2 = center,class:^(org.freedesktop.impl.portal.desktop.kde)$

# Optional: if some apps use QFileDialog (plain Qt)
# windowrulev2 = float,title:^(Open File|Save File|Select Folder)$
# windowrulev2 = center,title:^(Open File|Save File|Select Folder)$
# No need to activate it for now.

# Waybar Rules
windowrulev2 = opacity 0.6 0.6, class:^(waybar)$
layerrule = blur, waybar
layerrule = ignorezero, waybar

# GLava
windowrulev2 = noborder, class:^(GLava)$
windowrulev2 = noblur, class:^(GLava)$
windowrulev2 = noshadow, class:^(GLava)$
windowrulev2 = float, class:^(GLava)$
windowrulev2 = nofocus, class:^(GLava)$
windowrulev2 = nodim, class:^(GLava)$
windowrulev2 = noanim, class:^(GLava)$
windowrulev2 = pin, class:^(GLava)$
windowrulev2 = suppressevent fullscreen activate, class:^(GLava)$
windowrulev2 = noinitialfocus, class:^(GLava)$
windowrulev2 = rounding 0, class:^(GLava)$
windowrulev2 = size 100% 100%, class:^(GLava)$

# Shijima-Qt
windowrulev2 = noborder, class:^(shijima-qt)$
windowrulev2 = noblur, class:^(shijima-qt)$
windowrulev2 = noshadow, class:^(shijima-qt)$
windowrulev2 = float, class:^(shijima-qt)$
windowrulev2 = nofocus, class:^(shijima-qt)$
windowrulev2 = nodim, class:^(shijima-qt)$
windowrulev2 = noanim, class:^(shijima-qt)$
windowrulev2 = pin, class:^(shijima-qt)$
windowrulev2 = suppressevent fullscreen, class:^(shijima-qt)$
windowrulev2 = suppressevent activate, class:^(shijima-qt)$
windowrulev2 = noinitialfocus, class:^(shijima-qt)$
windowrulev2 = rounding 0, class:^(shijima-qt)$
windowrulev2 = size 100% 100%, class:^(shijima-qt)$

# SwayNC window rules for better appearance and compatibility
windowrulev2 = float, class:^(swaync-control-center)$
windowrulev2 = float, class:^(swaync-notification-window)$
windowrulev2 = center, class:^(swaync-control-center)$
windowrulev2 = center, class:^(swaync-notification-window)$
windowrulev2 = noshadow, class:^(swaync-control-center)$
windowrulev2 = noshadow, class:^(swaync-notification-window)$
windowrulev2 = noblur, class:^(swaync-control-center)$
windowrulev2 = noblur, class:^(swaync-notification-window)$
windowrulev2 = float, title:^(SwayNC.*)$
windowrulev2 = center, title:^(SwayNC.*)$
windowrulev2 = noshadow, title:^(SwayNC.*)$
windowrulev2 = noblur, title:^(SwayNC.*)$

# Disable blur for all XWayland windows (prevents blurred borders/shadows)
# windowrulev2 = noblur, xwayland:1

# Media OSD window rule
# Generic eww window rules (more likely to work)
windowrulev2 = float, class:^(eww)$
windowrulev2 = noborder, class:^(eww)$
windowrulev2 = noshadow, class:^(eww)$
windowrulev2 = pin, class:^(eww)$
windowrulev2 = stayfocused, class:^(eww)$
windowrulev2 = opacity 0.8, class:^(eww)$

# Specific rules for our media OSD
windowrulev2 = float, class:^(eww-media-osd)$
windowrulev2 = float, class:^(eww)$,title:^(media-osd)$
windowrulev2 = nofocus, class:^(eww-media-osd)$
windowrulev2 = nofocus, class:^(eww)$,title:^(media-osd)$
windowrulev2 = noborder, class:^(eww-media-osd)$
windowrulev2 = noborder, class:^(eww)$,title:^(media-osd)$
windowrulev2 = noshadow, class:^(eww-media-osd)$
windowrulev2 = noshadow, class:^(eww)$,title:^(media-osd)$
windowrulev2 = pin, class:^(eww-media-osd)$
windowrulev2 = pin, class:^(eww)$,title:^(media-osd)$
windowrulev2 = stayfocused, class:^(eww-media-osd)$
windowrulev2 = stayfocused, class:^(eww)$,title:^(media-osd)$
windowrulev2 = opacity 0.8, class:^(eww-media-osd)$
windowrulev2 = opacity 0.8, class:^(eww)$,title:^(media-osd)$

# Layer rules for eww windows
layerrule = blur, eww-media-osd
layerrule = blur, class:eww-blur
layerrule = ignorezero, eww-media-osd
layerrule = ignorezero, class:eww-blur

# Layer Rules for AGS
layerrule = blur, ags
layerrule = blur, class:ags
layerrule = ignorezero, ags
layerrule = ignorezero, class:ags

# Layer Rules for Rofi
layerrule = blur, rofi
layerrule = blur, rofi-dmenu
layerrule = ignorezero, rofi
layerrule = ignorezero, rofi-dmenu
layerrule = ignorealpha 0.0, rofi
layerrule = ignorealpha 0.0, rofi-dmenu

# Window rules for Rofi transparency
windowrulev2 = opacity 0.4 0.4, class:^(rofi)$
windowrulev2 = opacity 0.4 0.4, class:^(Rofi)$

# GTK Desktop Portal rules
windowrulev2 = float, class:^(xdg-desktop-portal-gtk)$
windowrulev2 = float, class:^(Xdg-desktop-portal-gtk)$
windowrulev2 = center, class:^(xdg-desktop-portal-gtk)$
windowrulev2 = center, class:^(Xdg-desktop-portal-gtk)$

# Quickshell Rule
windowrulev2 = float, title:.*quickshell.*

# Python GTK Apps - Theme Selector and Wallpaper Preview
windowrulev2 = float, class:^(serialdesignv)$
windowrulev2 = float, class:^(wallpaper-preview)$
windowrulev2 = noborder, class:^(serialdesignv)$
windowrulev2 = noborder, class:^(wallpaper-preview)$
windowrulev2 = rounding 20, class:^(serialdesignv)$
windowrulev2 = rounding 20, class:^(wallpaper-preview)$
windowrulev2 = opacity 0.95 0.95, class:^(serialdesignv)$
windowrulev2 = opacity 0.98 0.98, class:^(wallpaper-preview)$

# Layer rules for Python GTK apps
layerrule = blur, serialdesignv
layerrule = blur, wallpaper-preview
layerrule = ignorezero, serialdesignv
layerrule = ignorezero, wallpaper-preview

# GTK Layer Clock
windowrulev2 = float, class:^(gtk-layer-clock)$
windowrulev2 = noborder, class:^(gtk-layer-clock)$
windowrulev2 = noshadow, class:^(gtk-layer-clock)$
windowrulev2 = nofocus, class:^(gtk-layer-clock)$
windowrulev2 = pin, class:^(gtk-layer-clock)$

# Layer rules for GTK Layer Clock
layerrule = ignorezero, gtk-layer-clock
